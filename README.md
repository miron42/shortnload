# ShornLoad — сервис укорачивания ссылок с загрузкой файлов на Яндекс Диск

## Описание

ShornLoad — это веб-сервис, позволяющий:

- создавать короткие ссылки для длинных URL;
- загружать файлы на Яндекс Диск с генерацией коротких ссылок для скачивания;
- использовать API для интеграции в другие системы.

## Возможности

- Преобразование длинных ссылок в короткие.
- Поддержка пользовательских идентификаторов (до 16 символов).
- Проверка уникальности коротких ссылок.
- Асинхронная загрузка файлов на Яндекс Диск с помощью библиотеки `aiohttp`.
- Генерация коротких ссылок для скачивания файлов.
- Редирект по короткой ссылке к оригинальному URL или к скачиванию файла.
- Визуальный интерфейс с двумя страницами: главная и страница загрузки файлов.
- API с двумя эндпоинтами: создание и получение ссылок.

## Технологии

- Python 3.11+
- Flask
- SQLAlchemy + SQLite
- Jinja2 (шаблоны)
- aiohttp (для работы с Яндекс Диском)

## Как запустить проект

1. Клонируйте репозиторий:

```bash
git clone https://github.com/your-username/whornload.git
cd ShornLoad
```

2. Установите зависимости:

```bash
pip install -r requirements.txt
```

3. Установите переменные окружения:

```bash
export DATABASE_URI=sqlite:///db.sqlite3
export DISK_TOKEN=ваш_токен_от_Яндекс_Диска
```

4. Запустите приложение:

```bash
flask run
```

## Структура интерфейса

- `/` — главная страница для генерации коротких ссылок.
- `/files` — страница загрузки файлов.
- `/short_id` — редирект на оригинальный URL или скачивание файла.

## Примеры API-запросов

### Создание короткой ссылки

**POST** `/api/id/`

```json
{
  "url": "https://example.com",
  "custom_id": "myshort"
}
```

**Ответ:**

```json
{
  "short_link": "http://localhost/myshort",
  "url": "https://example.com"
}
```

### Получение оригинальной ссылки

**GET** `/api/id/myshort/` **Ответ:**

```json
{
  "url": "https://example.com"
}
```

## Дополнительно

- Короткие ссылки автоматически генерируются, если пользователь не указал свой вариант.
- Генерация уникальных идентификаторов: случайная комбинация из латинских букв и цифр.
- Файлы загружаются на Яндекс Диск асинхронно с использованием `aiohttp`.
- После загрузки — отображение таблицы с названиями файлов и короткими ссылками на скачивание.

---

Проект разработан в рамках учебной практики. Цель — закрепить навыки создания веб-приложений, работы с API и асинхронными задачами.

